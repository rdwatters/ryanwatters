{% extends "templates/partials/base.html" %} {% block title %}{% parent %}Homepage{% endblock %} {% block content %} {% set articles = cms.articles|sort('publish_date', true) %} {% set authors = cms.authors %} {% set articles = articles|slice(0,5) %}
<article class="list-of-posts" itemscope itemtype="http://schema.org/Blog">
    {% for article in articles %}
    <section class="home-article-section">
        {% if article.related_video %}
        <div class="video-wrapper">
            {{ article.related_video.video.html|safe }}
        </div>
        {% else %}
        <div class="article-list-image">
        <img src="{{article.image|imageCrop(500,300)}}" alt="{{ article.image_description }}" itemprop="image"></div>
        {% endif %}
        <section class="article-information" itemprop="blogPost">
            <span class="publish-date" itemprop="datePublished">{{ article.publish_date|date('F d Y') }}</span>
            <span class="article-topic"><a href="{{url(article.topic[0])}}">{{ article.topic[0].name }}</a></span>
            <h1 class="home-article-title"><a href="{{ url(article) }}">{{ article.title }}</a></h1>
            <h2 class="home-article-subtitle">{{ article.subtitle }}</h2>
            <div class="author-photo"><img class="author-image-small" src="{{article.author[0].author_photo|imageCrop(50,50)}}" alt="{{ article.author[0].full_name.first }} {{ article.author[0].full_name.last }}"></div>
            <span class="article-author" itemprop="author"><a href="{{ url(article.author[0]) }}">{{ article.author[0].full_name.first }} {{ article.author[0].full_name.last }}</a></span>
            <div class="article-tags" itemprop="tags"><strong>Tags: </strong> {% for tag in article.tags %}
                <span class="article-tag"><a href="{{url(tag)}}">{{ tag.name }}</a></span> {% endfor %}
            </div>
        </section>
    </section>
    {% endfor %}
</article>
<aside>
    {% set authors = cms.authors %}
    <section class="about-the-author">
        {% for author in authors %}
        <span class="author-name"><strong>About </strong>{{ author.full_name.first }} {{ author.full_name.last }}</span>
        <div class="author-image">
            <img src="{{ author.author_photo|imageSize(200, 200) }}" />
        </div>
        <div class="author-bio-short">{{ author.short_bio }}</div>
        <ul class="author-social">
            {% if author.github%}
            <li class="github"><a href="{{ author.github }}" target="_blank">Github</a></li>
            {% endif %} {% if author.twitter %}
            <li class="twitter"><a href="https://www.twitter.com/@{{ author.twitter }}" target="_blank">Twitter</a></li>
            {% endif %} {% if author.website %}
            <li class="author-website"><a href="{{ author.website }}">Website</a></li>
            {% endif %} {% if author.email %}
            <li class="email"><a href="mailto:{{ author.email }}">Email</a></li>
            {% endif %} {% if author.linkedin %}
            <li class="linkedin"><a href="{{ author.linkedin }}" target="_blank">LinkedIn</a></li>
            {% endif %}
        </ul>
        {% endfor %}
    </section>
</aside>
<a href="https://twitter.com/share" class="twitter-share-button" data-dnt="true">Tweet</a>
<script async>
! function(d, s, id) {
    var js, fjs = d.getElementsByTagName(s)[0],
        p = /^http:/.test(d.location) ? 'http' : 'https';
    if (!d.getElementById(id)) {
        js = d.createElement(s);
        js.id = id;
        js.src = p + '://platform.twitter.com/widgets.js';
        fjs.parentNode.insertBefore(js, fjs);
    }
}(document, 'script', 'twitter-wjs');
</script>
{% endblock %}
